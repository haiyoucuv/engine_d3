{"version":3,"file":"hycv.js","sources":["../src/math/Vector3.ts","../src/event/EventDispatcher.ts","../src/core/WebGLRenderer.ts","../src/app/App.ts","../src/app/Director.ts","../src/app/const.ts","../src/core/shader/ShaderTools.ts","../src/core/Object3D.ts","../src/core/shader/generateUniformAccessObject.ts","../src/core/shader/mapType.ts","../src/core/shader/mapSize.ts","../src/core/shader/Attribute.ts","../src/core/shader/extractAttributes.ts","../src/core/shader/defaultValue.ts","../src/core/shader/extractUniforms.ts","../src/core/shader/Shader.ts","../src/scene/Scene.ts"],"sourcesContent":["/*\n * Created by 还有醋v on 2020/9/4.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nexport class Vector3 {\n\n    constructor(\n        public x: number = 0,\n        public y: number = 0,\n        public z: number = 0\n    ) {\n\n    }\n\n    public get length(): number {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n\n    public static clone(v): Vector3 {\n        return new Vector3().copy(v);\n    }\n\n    public set(x: number = 0, y: number = 0, z: number = 0): Vector3 {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    }\n\n    public copy(v: Vector3): Vector3 {\n        return this.set(v.x, v.y, v.z);\n    }\n\n    public add(value: Vector3 | number): Vector3 {\n        if (value instanceof Vector3) {\n            this.x += value.x;\n            this.y += value.y;\n            this.z += value.z;\n            return this;\n        }\n        this.x += value;\n        this.y += value;\n        this.z += value;\n        return this;\n    }\n\n    public adds(...values: (Vector3 | number)[]): Vector3 {\n        values.forEach(value => {\n            this.add(value);\n        });\n        return this;\n    }\n\n    public addScaled(value: Vector3 | number, scale: number): Vector3 {\n        this.sub(value).scale(scale);\n        return this;\n    }\n\n    public sub(value: Vector3 | number): Vector3 {\n        if (value instanceof Vector3) {\n            this.x -= value.x;\n            this.y -= value.y;\n            this.z -= value.z;\n            return this;\n        }\n        this.x -= value;\n        this.y -= value;\n        this.z -= value;\n        return this;\n    }\n\n    public subs(...values: (Vector3 | number)[]): Vector3 {\n        values.forEach(value => {\n            this.sub(value);\n        });\n        return this;\n    }\n\n    public scale(value: number): Vector3 {\n        this.x *= value;\n        this.y *= value;\n        this.z *= value;\n        return this;\n    }\n\n    public scales(...values: number[]): Vector3 {\n        values.forEach(value => {\n            this.scale(value);\n        });\n        return this;\n    }\n\n    public divide(value: Vector3 | number): Vector3 {\n        if (value instanceof Vector3) {\n            this.x /= value.x;\n            this.y /= value.y;\n            this.z /= value.z;\n            return this;\n        }\n        this.x /= value;\n        this.y /= value;\n        this.z /= value;\n        return this;\n    }\n\n    public divides(...values: (Vector3 | number)[]): Vector3 {\n        values.forEach(value => {\n            this.divide(value);\n        });\n        return this;\n    }\n\n    public dot(v: Vector3): number {\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n    }\n\n    public crossVector(v: Vector3): Vector3 {\n        this.x = this.y * v.z - this.z * v.y;\n        this.y = this.z * v.x - this.x * v.z;\n        this.z = this.x * v.y - this.y * v.x;\n        return this;\n    }\n\n    public cross(v1: Vector3, v2: Vector3): Vector3 {\n        return new Vector3().copy(v1).crossVector(v2);\n    }\n\n    public normalize(): Vector3 {\n        return this.scale(1 / (this.length || 1));\n    }\n\n}\n","/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nexport class EventDispatcher {\n\n    private _listeners = {};\n\n    constructor() {\n    }\n\n    addEventListener(type: string, listener) {\n\n        if (this._listeners === undefined) this._listeners = {};\n\n        var listeners = this._listeners;\n\n        if (listeners[type] === undefined) {\n\n            listeners[type] = [];\n\n        }\n\n        if (listeners[type].indexOf(listener) === -1) {\n\n            listeners[type].push(listener);\n\n        }\n\n    }\n\n    hasEventListener(type: string, listener) {\n\n        if (this._listeners === undefined) return false;\n\n        var listeners = this._listeners;\n\n        return listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n\n    }\n\n    removeEventListener(type: string, listener) {\n\n        if (this._listeners === undefined) return;\n\n        var listeners = this._listeners;\n        var listenerArray = listeners[type];\n\n        if (listenerArray !== undefined) {\n\n            var index = listenerArray.indexOf(listener);\n\n            if (index !== -1) {\n\n                listenerArray.splice(index, 1);\n\n            }\n\n        }\n\n    }\n\n    dispatchEvent(event) {\n\n        if (this._listeners === undefined) return;\n\n        var listeners = this._listeners;\n        var listenerArray = listeners[event.type];\n\n        if (listenerArray !== undefined) {\n\n            event.target = this;\n\n            var array = listenerArray.slice(0);\n\n            for (var i = 0, l = array.length; i < l; i++) {\n\n                array[i].call(this, event);\n\n            }\n\n        }\n\n    }\n}\n","/*\n * Created by 还有醋v on 2020/9/6.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nimport { Scene } from \"../scene/Scene\";\n\nexport class WebGLRenderer {\n\n    public _canvas: HTMLCanvasElement;\n    public get canvas(): HTMLCanvasElement {\n        return this._canvas;\n    }\n\n    public set canvas(canvas: HTMLCanvasElement) {\n        this._canvas = canvas;\n    }\n\n    public _gl: WebGLRenderingContext;\n    public get gl(): WebGLRenderingContext {\n        return this._gl;\n    }\n\n    public set gl(gl: WebGLRenderingContext) {\n        this._gl = gl;\n    }\n\n    private constructor() {\n\n    }\n\n    public init() {\n        const gl = this.gl;\n        gl.clearColor(0.2, 0.2, 0.2, 1.0);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n        // 设置一些参数\n        gl.enable(gl.BLEND);\n        gl.enable(gl.DEPTH_TEST);\n        gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n    }\n\n    public onResize() {\n        // this.canvas.width = document.documentElement.clientWidth;\n        // this.canvas.height = document.documentElement.clientHeight;\n        this.canvas.width = window.innerWidth;\n        this.canvas.height = window.innerHeight;\n        this.gl.viewport(0, 0, window.innerWidth, window.innerHeight);\n    }\n\n\n    public static create(canvas?: HTMLCanvasElement | string) {\n        const renderer = new WebGLRenderer();\n        if (!canvas) {\n            renderer.canvas = document.createElement('canvas') as HTMLCanvasElement;\n        } else if (typeof canvas == \"string\") {\n            renderer.canvas = document.getElementById(canvas) as HTMLCanvasElement;\n        } else {\n            renderer.canvas = canvas;\n        }\n\n        const names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\n        for (let v of names) {\n            try {\n                renderer.gl = renderer.canvas.getContext(v) as WebGLRenderingContext;\n                break;\n            } catch (e) {\n            }\n        }\n        if (!renderer.gl) {\n            throw 'WebGL not supported.';\n        }\n\n        renderer.init();\n\n        return renderer;\n    }\n\n\n    public render(scene: Scene) {\n\n    }\n}\n","/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nimport { WebGLRenderer } from \"../core/WebGLRenderer\";\nimport { Scene } from \"../scene/Scene\";\n\nclass App {\n\n    private renderer: WebGLRenderer;\n\n    private _currentScene: Scene;\n    public set currentScene(scene: Scene) {\n        this._currentScene = scene;\n    }\n\n    public get currentScene(): Scene {\n        return this._currentScene;\n    }\n\n    public winWidth: number;\n    public winHeight: number;\n\n\n    private constructor() {\n\n        this.renderer = WebGLRenderer.create(\n            // document.getElementById('canvas') as HTMLCanvasElement\n        );\n\n        document.body.appendChild(this.renderer.canvas);\n\n        this.onResize();\n        this.initEvent();\n\n        this.mainLoop();\n    }\n\n    public static create() {\n        return new App();\n    }\n\n    private _lt = Date.now();\n\n    private mainLoop = () => {\n        const now = Date.now();\n        const dt = (now - this._lt) / 1000;\n        this._lt = now;\n\n        if (this.currentScene) {\n            this.currentScene.update(dt);\n            this.renderer.render(this.currentScene);\n        }\n\n        requestAnimationFrame(this.mainLoop);\n    }\n\n    private onResize() {\n        this.winWidth = window.innerWidth;\n        this.winHeight = window.innerHeight;\n\n        this.renderer.onResize();\n        this.currentScene && this.currentScene.onResize();\n    }\n\n    private initEvent() {\n        window.onresize = this.onResize;\n    }\n}\n\nexport const app = App.create();\n\n","/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nimport { app } from \"./App\";\nimport { Scene } from \"../scene/Scene\";\n\nclass Director {\n\n    private constructor() {\n\n    }\n\n    public static create() {\n        return new Director();\n    }\n\n    public get currentScene(): Scene {\n        return app.currentScene;\n    }\n\n    public changeScene(scene) {\n        const oldScene = this.currentScene;\n        app.currentScene = scene;\n        app.currentScene.init();\n        oldScene && oldScene.destroy();\n    }\n\n\n}\n\nexport const director = Director.create();\n","/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nexport const devicePixelRatio = window.devicePixelRatio;\nexport const winWidth = window.innerWidth;\nexport const winHeight = window.innerHeight;\n","/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\n/**\n * 加载shader\n * @param gl\n * @param type\n * @param source\n * @returns {WebGLShader|null}\n */\nfunction loadShader(gl: WebGLRenderingContext, type: GLenum, source: string) {\n    // 创建一个shader\n    const shader = gl.createShader(type);\n    if (shader == null) {\n        throw '无法创建shader';\n    }\n\n    gl.shaderSource(shader, source);    // 添加指定shader的代码\n    gl.compileShader(shader);    // 编译shader\n\n    // 获取编译状态\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        console.error(gl.getShaderInfoLog(shader));\n        gl.deleteShader(shader);\n        return null;\n    }\n\n    return shader;\n\n}\n\n/**\n * 创建一个gl程序\n * @param gl\n * @param vertexSrc\n * @param fragmentSrc\n * @returns {null|WebGLProgram}\n */\nexport function compileProgram(gl: WebGLRenderingContext, vertexSrc: string, fragmentSrc: string, attributeLocations?) {\n    // 初始化shader\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vertexSrc);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fragmentSrc);\n\n    if (!vertexShader || !fragmentShader) return;\n\n    // 创建一个gl程序\n    const program = gl.createProgram();\n\n    // 附加shader\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n\n    // optionally, set the attributes manually for the program rather than letting WebGL decide..\n    // （可选）手动为程序设置属性，而不是让WebGL决定。\n    if (attributeLocations) {\n        for (let i in attributeLocations) {\n            gl.bindAttribLocation(program, attributeLocations[i], i);\n        }\n    }\n\n    // link gl程序\n    gl.linkProgram(program);\n\n    gl.deleteShader(vertexShader);\n    gl.deleteShader(fragmentShader);\n\n    // 检查link状态\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        gl.deleteProgram(program);\n        console.error('gl.getError()', gl.getError());\n        throw gl.getProgramInfoLog(program);\n    }\n\n    return program;\n}\n\n\n/**\n * 给shader source设置precision\n * Sets the float precision on the shader. If the precision is already present this function will do nothing\n * @param {string} src       the shader source\n * @param {string} precision The float precision of the shader. Options are 'lowp', 'mediump' or 'highp'.\n *\n * @return {string} modified shader source\n */\nexport function setPrecision(src: string, precision: string): string {\n    return (src.substring(0, 9) !== 'precision')\n        ? 'precision ' + precision + ' float;\\n' + src\n        : src;\n}\n\n","/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nimport { EventDispatcher } from \"../event/EventDispatcher\";\n\nexport class Object3D extends EventDispatcher {\n    constructor() {\n        super();\n    }\n\n    public init() {\n\n    }\n\n    public update(dt) {\n\n    }\n\n    public render() {\n        this._render();\n\n\n    }\n\n    protected _render() {\n\n    }\n\n    public destroy() {\n\n    }\n\n    public onResize() {\n\n    }\n}\n\n","/**\n * 使uniform能通过赋值直接和着色器程序通信\n * @class\n * @memberof glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param uniformData\n * @return attributes {Object}\n */\nexport function generateUniformAccessObject(gl:WebGLRenderingContext, uniformData) {\n    // this is the object we will be sending back.\n    // an object hierachy will be created for structs\n    const uniforms = { data: {} };\n\n    uniforms[\"gl\"] = gl;\n\n    const uniformKeys = Object.keys(uniformData);\n\n    for (let i = 0; i < uniformKeys.length; i++) {\n        const fullName = uniformKeys[i];\n\n        const nameTokens = fullName.split('.');\n        const name = nameTokens[nameTokens.length - 1];\n\n\n        const uniformGroup = getUniformGroup(nameTokens, uniforms);\n\n        const uniform = uniformData[fullName];\n        uniformGroup.data[name] = uniform;\n\n        uniformGroup.gl = gl;\n\n        Object.defineProperty(uniformGroup, name, {\n            get: generateGetter(name),\n            set: generateSetter(name, uniform)\n        });\n    }\n\n    return uniforms;\n}\n\nconst generateGetter = function (name) {\n    return function () {\n        return this.data[name].value;\n    };\n};\n\nconst GLSL_SINGLE_SETTERS = {\n    float: function setSingleFloat(gl, location, value) { gl.uniform1f(location, value); },\n    vec2: function setSingleVec2(gl, location, value) { gl.uniform2f(location, value[0], value[1]); },\n    vec3: function setSingleVec3(gl, location, value) { gl.uniform3f(location, value[0], value[1], value[2]); },\n    vec4: function setSingleVec4(gl, location, value) { gl.uniform4f(location, value[0], value[1], value[2], value[3]); },\n\n    int: function setSingleInt(gl, location, value) { gl.uniform1i(location, value); },\n    ivec2: function setSingleIvec2(gl, location, value) { gl.uniform2i(location, value[0], value[1]); },\n    ivec3: function setSingleIvec3(gl, location, value) { gl.uniform3i(location, value[0], value[1], value[2]); },\n    ivec4: function setSingleIvec4(gl, location, value) { gl.uniform4i(location, value[0], value[1], value[2], value[3]); },\n\n    bool: function setSingleBool(gl, location, value) { gl.uniform1i(location, value); },\n    bvec2: function setSingleBvec2(gl, location, value) { gl.uniform2i(location, value[0], value[1]); },\n    bvec3: function setSingleBvec3(gl, location, value) { gl.uniform3i(location, value[0], value[1], value[2]); },\n    bvec4: function setSingleBvec4(gl, location, value) { gl.uniform4i(location, value[0], value[1], value[2], value[3]); },\n\n    mat2: function setSingleMat2(gl, location, value) { gl.uniformMatrix2fv(location, false, value); },\n    mat3: function setSingleMat3(gl, location, value) { gl.uniformMatrix3fv(location, false, value); },\n    mat4: function setSingleMat4(gl, location, value) { gl.uniformMatrix4fv(location, false, value); },\n\n    sampler2D: function setSingleSampler2D(gl, location, value) { gl.uniform1i(location, value); },\n};\n\nconst GLSL_ARRAY_SETTERS = {\n    float: function setFloatArray(gl, location, value) { gl.uniform1fv(location, value); },\n    vec2: function setVec2Array(gl, location, value) { gl.uniform2fv(location, value); },\n    vec3: function setVec3Array(gl, location, value) { gl.uniform3fv(location, value); },\n    vec4: function setVec4Array(gl, location, value) { gl.uniform4fv(location, value); },\n    int: function setIntArray(gl, location, value) { gl.uniform1iv(location, value); },\n    ivec2: function setIvec2Array(gl, location, value) { gl.uniform2iv(location, value); },\n    ivec3: function setIvec3Array(gl, location, value) { gl.uniform3iv(location, value); },\n    ivec4: function setIvec4Array(gl, location, value) { gl.uniform4iv(location, value); },\n    bool: function setBoolArray(gl, location, value) { gl.uniform1iv(location, value); },\n    bvec2: function setBvec2Array(gl, location, value) { gl.uniform2iv(location, value); },\n    bvec3: function setBvec3Array(gl, location, value) { gl.uniform3iv(location, value); },\n    bvec4: function setBvec4Array(gl, location, value) { gl.uniform4iv(location, value); },\n    sampler2D: function setSampler2DArray(gl, location, value) { gl.uniform1iv(location, value); },\n};\n\nfunction generateSetter(name, uniform) {\n    return function (value) {\n        this.data[name].value = value;\n        var location = this.data[name].location;\n        if (uniform.size === 1) {\n            GLSL_SINGLE_SETTERS[uniform.type](this.gl, location, value);\n        }\n        else {\n            // glslSetArray(gl, location, type, value) {\n            GLSL_ARRAY_SETTERS[uniform.type](this.gl, location, value);\n        }\n    };\n}\n\nfunction getUniformGroup(nameTokens, uniform) {\n    let cur = uniform;\n\n    for (let i = 0; i < nameTokens.length - 1; i++) {\n        const o = cur[nameTokens[i]] || { data: {} };\n        cur[nameTokens[i]] = o;\n        cur = o;\n    }\n\n    return cur;\n}\n\n\n\n","\nexport function mapType(gl, type) {\n    if (!GL_TABLE) {\n        const typeNames = Object.keys(GL_TO_GLSL_TYPES);\n\n        GL_TABLE = {};\n\n        for (let i = 0; i < typeNames.length; ++i) {\n            const tn = typeNames[i];\n            GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];\n        }\n    }\n\n    return GL_TABLE[type];\n}\n\nlet GL_TABLE = null;\n\nconst GL_TO_GLSL_TYPES = {\n    'FLOAT': 'float',\n    'FLOAT_VEC2': 'vec2',\n    'FLOAT_VEC3': 'vec3',\n    'FLOAT_VEC4': 'vec4',\n\n    'INT': 'int',\n    'INT_VEC2': 'ivec2',\n    'INT_VEC3': 'ivec3',\n    'INT_VEC4': 'ivec4',\n\n    'BOOL': 'bool',\n    'BOOL_VEC2': 'bvec2',\n    'BOOL_VEC3': 'bvec3',\n    'BOOL_VEC4': 'bvec4',\n\n    'FLOAT_MAT2': 'mat2',\n    'FLOAT_MAT3': 'mat3',\n    'FLOAT_MAT4': 'mat4',\n\n    'SAMPLER_2D': 'sampler2D'\n};\n\n","/**\n * @class\n * @memberof glCore.shader\n * @param type {String}\n * @return {Number}\n */\nexport function mapSize(type: string): number {\n    return GLSL_TO_SIZE[type];\n}\n\n\nlet GLSL_TO_SIZE = {\n    'float': 1,\n    'vec2': 2,\n    'vec3': 3,\n    'vec4': 4,\n\n    'int': 1,\n    'ivec2': 2,\n    'ivec3': 3,\n    'ivec4': 4,\n\n    'bool': 1,\n    'bvec2': 2,\n    'bvec3': 3,\n    'bvec4': 4,\n\n    'mat2': 4,\n    'mat3': 9,\n    'mat4': 16,\n\n    'sampler2D': 1\n};\n","/*\n * Created by 还有醋v on 2020/9/8.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nimport { mapType } from \"./mapType\";\nimport { mapSize } from \"./mapSize\";\n\nexport class Attribute {\n\n    public name: string;\n    public size: number;\n    public type: string;\n\n    public location: GLint;\n\n    public buffer: WebGLBuffer;\n    private _bufferData = null;\n\n    public set bufferData(bufferData) {\n        this._bufferData = bufferData;\n    }\n\n    public get bufferData() {\n        return this._bufferData;\n    }\n\n    private constructor(\n        public gl: WebGLRenderingContext,\n        public program: WebGLProgram,\n        attribData: WebGLActiveInfo,\n    ) {\n        this.name = attribData.name;\n        this.type = mapType(gl, attribData.type);\n        this.size = mapSize(this.type);\n    }\n\n    public static create(\n        gl: WebGLRenderingContext,\n        program: WebGLProgram,\n        attribData: WebGLActiveInfo\n    ) {\n        return new Attribute(gl, program, attribData).init();\n    }\n\n    public init() {\n        const gl = this.gl;\n        this.buffer = gl.createBuffer();\n        this.location = gl.getAttribLocation(this.program, this.name);\n        this.enable();\n        return this;\n    }\n\n    public enable() {\n        this.gl.enableVertexAttribArray(this.location);\n    }\n\n    public disable() {\n        this.gl.disableVertexAttribArray(this.location);\n    }\n\n    public bind(bufferData) {\n        bufferData && (this._bufferData = bufferData);\n        const gl = this.gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        gl.bufferData(gl.ARRAY_BUFFER, this._bufferData, gl.STATIC_DRAW);\n    }\n\n    public pointer(type = this.gl.FLOAT, normalized = false, stride = 0, start = 0) {\n        this.gl.vertexAttribPointer(this.location, this.size, type, normalized, stride, start);\n    }\n\n}\n","\n/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nimport { Attribute } from \"./Attribute\";\n\n/**\n * Extracts the attributes获取attributes属性\n * @class\n * @memberof glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the attributes from\n * @return attributes {Object}\n */\nexport function extractAttributes(gl: WebGLRenderingContext, program: WebGLProgram) {\n    const attributes = {};\n\n    //所有激活的ATTRIBUTES\n    const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (let i = 0; i < totalAttributes; i++) {\n        const attribData = gl.getActiveAttrib(program, i);\n        const newAttribute = Attribute.create(gl, program, attribData);\n        newAttribute.init();\n        console.log(attribData);\n        console.log(newAttribute);\n        attributes[attribData.name] = newAttribute\n    }\n\n    return attributes;\n}\n","/**\n * @class\n * @memberof glCore.shader\n * @param type {String} Type of value\n * @param size {Number}\n */\nexport function defaultValue(type:string, size:number) {\n    switch (type) {\n        case 'float':\n            return 0;\n\n        case 'vec2':\n            return new Float32Array(2 * size);\n\n        case 'vec3':\n            return new Float32Array(3 * size);\n\n        case 'vec4':\n            return new Float32Array(4 * size);\n\n        case 'int':\n        case 'sampler2D':\n            return 0;\n\n        case 'ivec2':\n            return new Int32Array(2 * size);\n\n        case 'ivec3':\n            return new Int32Array(3 * size);\n\n        case 'ivec4':\n            return new Int32Array(4 * size);\n\n        case 'bool':\n            return false;\n\n        case 'bvec2':\n\n            return booleanArray(2 * size);\n\n        case 'bvec3':\n            return booleanArray(3 * size);\n\n        case 'bvec4':\n            return booleanArray(4 * size);\n\n        case 'mat2':\n            return new Float32Array([1, 0,\n                0, 1]);\n\n        case 'mat3':\n            return new Float32Array([1, 0, 0,\n                0, 1, 0,\n                0, 0, 1]);\n\n        case 'mat4':\n            return new Float32Array([1, 0, 0, 0,\n                0, 1, 0, 0,\n                0, 0, 1, 0,\n                0, 0, 0, 1]);\n    }\n}\n\nconst booleanArray = function (size) {\n    const array = new Array(size);\n\n    for (let i = 0; i < array.length; i++) {\n        array[i] = false;\n    }\n\n    return array;\n};\n\n\n","import { mapType } from './mapType';\nimport { defaultValue } from './defaultValue';\n\n/**\n * Extracts the uniforms 获取uniforms属性\n * @class\n * @memberof glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the uniforms from\n * @return uniforms {Object} ，所有uniform的集合\n * 每个uniform的格式\n * {\n *  type: uniform的类型，'float','vec2'等等\n *\tsize: uniformData.size,决定uniform赋值用什么方法\n *\tlocation: WebGLUniformLocation,uniform变量的存储地址\n *\tvalue: 默认值\n * }\n */\nexport function extractUniforms(gl: WebGLRenderingContext, program: WebGLProgram) {\n    const uniforms = {};\n\n    const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (var i = 0; i < totalUniforms; i++) {\n        var uniformData: WebGLActiveInfo = gl.getActiveUniform(program, i);\n        var name = uniformData.name.replace(/\\[.*?\\]/, \"\");\n        var type = mapType(gl, uniformData.type);\n\n        uniforms[name] = {\n            type: type,\n            size: uniformData.size,\n            location: gl.getUniformLocation(program, name),\n            value: defaultValue(type, uniformData.size)\n        };\n    }\n\n    return uniforms;\n}\n","/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nimport { compileProgram, setPrecision } from \"./ShaderTools\";\nimport { generateUniformAccessObject } from \"./generateUniformAccessObject\";\nimport { extractAttributes } from \"./extractAttributes\";\nimport { extractUniforms } from \"./extractUniforms\";\n\nexport class Shader {\n\n    private program: WebGLProgram;\n\n    /**\n     *  The attributes of the shader as an object containing the following properties\n     * {\n     * \ttype,\n     * \tsize,\n     * \tlocation,\n     * \tpointer\n     * }\n     * @member {Object}\n     */\n    attributes: any;\n\n    uniformData: any;\n    /**\n     * The uniforms of the shader as an object containing the following properties\n     * {\n     * \tgl,\n     * \tdata\n     * }\n     * @member {Object}\n     */\n    uniforms: any;\n\n    constructor(\n        private gl: WebGLRenderingContext,\n        vertexSrc: string,\n        fragmentSrc: string,\n        precision?: string,\n        attributeLocations?\n    ) {\n\n        if (precision) {\n            setPrecision(vertexSrc, precision);\n            setPrecision(fragmentSrc, precision);\n        }\n\n        this.program = compileProgram(gl, vertexSrc, fragmentSrc);\n\n        this.attributes = extractAttributes(gl, this.program);\n\n        this.uniformData = extractUniforms(gl, this.program);\n\n        this.uniforms = generateUniformAccessObject(gl, this.uniformData);\n    }\n\n    public use() {\n        this.gl.useProgram(this.program);\n        return this;\n    }\n\n    public destroy() {\n\n        this.attributes = null;\n        this.uniformData = null;\n        this.uniforms = null;\n\n        this.gl.deleteProgram(this.program);\n    }\n\n}\n","/*\n * Created by 还有醋v on 2020/9/7.\n * Copyright © 2020 haiyoucuv. All rights reserved.\n */\n\nimport { Object3D } from \"../core/Object3D\";\n\nexport class Scene extends Object3D {\n    constructor() {\n        super();\n    }\n\n    public update(dt) {\n\n    }\n\n    protected _render() {\n\n    }\n}\n\n\n"],"names":["__extends"],"mappings":"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"}